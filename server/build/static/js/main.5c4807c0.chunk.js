(this["webpackJsonpproject-management"]=this["webpackJsonpproject-management"]||[]).push([[0],{111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(27),c=a.n(r),i=a(24),l=a(8),o=a(9),d=a(11),j=a(10),h=(a(70),a(13)),b=a(14),u=a(6),p=a(12),m=a.n(p),O=(a(28),a(34)),A=(a(88),a(0)),g=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handlePassword=function(e){n.setState({password:e.target.value})},n.handleUsername=function(e){n.setState({username:e.target.value})},n.handleSignUp=function(){n.setState({signUp_redirect:!0})},n.handleSubmit=function(){event.preventDefault(),m.a.post("/login",{username:n.state.username,password:n.state.password},{headers:{"content-type":"application/json"}}).then((function(e){sessionStorage.setItem("logged-in-username",n.state.username),sessionStorage.setItem("logged-in-role",e.data.role),n.props.history.push("/homepage")})).catch((function(e){console.log(e.response),alert(e.response.data.message)}))},n.state={password:"",username:"",redirect:!1,signUp_redirect:!1},n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n.handleUsername=n.handleUsername.bind(Object(u.a)(n)),n.handlePassword=n.handlePassword.bind(Object(u.a)(n)),n.handleSignUp=n.handleSignUp.bind(Object(u.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return this.state.signUp_redirect?Object(A.jsx)(b.a,{to:"/signUp"}):Object(A.jsx)(O.Spring,{from:{opacity:0,marginTop:-500},to:{opacity:1,marginTop:200},config:{delay:400,duration:1500},children:function(t){return Object(A.jsx)("div",{style:t,children:Object(A.jsxs)("div",{className:"login-frame",children:[Object(A.jsx)("img",{className:"login-img"}),Object(A.jsx)("h2",{style:{textAlign:"center"},children:"Log In:"}),Object(A.jsx)("div",{className:"myForm",children:Object(A.jsxs)("form",{onSubmit:e.handleSubmit,method:"get",children:[Object(A.jsx)("label",{className:"login-label",children:"Username: "}),Object(A.jsx)("br",{}),Object(A.jsx)("input",{className:"myInput",type:"text",placeholder:"Enter username or email",value:e.state.username,onChange:e.handleUsername,required:!0}),Object(A.jsx)("br",{}),Object(A.jsx)("label",{className:"login-label",children:"Password:"}),Object(A.jsx)("input",{className:"myInput",type:"password",placeholder:"Enter password",value:e.state.password,onChange:e.handlePassword,required:!0}),Object(A.jsx)("div",{className:"wrapper",children:Object(A.jsx)("button",{className:"btn",type:"submit",children:"Log in"})}),Object(A.jsxs)("div",{className:"not-user",children:["Not a user?",Object(A.jsx)("br",{}),Object(A.jsx)(h.b,{className:"signup-link",to:"/signup",children:"Sign up now!"})]})]})})]})})}})}}]),a}(s.a.Component),x=a(20),f=a(29),v=a(22);a(111);x.b.add(f.a,v.a,v.b,v.d);var S=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={bar:"Flights"},n}return Object(o.a)(a,[{key:"render",value:function(){return Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)("div",{align:"center",children:[Object(A.jsx)("h1",{children:"Welcome to PineApple Travels!"}),Object(A.jsx)("h3",{margin:!0,top:!0,children:"About us:"})]})})}}]),a}(n.Component),y=(a(112),function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handlePassword=function(e){n.setState({password:e.target.value})},n.handleConfirmPass=function(e){n.setState({confirmPass:e.target.value}),e.target.value==n.state.password?n.setState({confirmPassBorder:"lime"}):n.setState({confirmPassBorder:"red"})},n.handleUsername=function(e){n.setState({username:e.target.value})},n.handleEmail=function(e){n.setState({email:e.target.value})},n.handleSubmit=function(){event.preventDefault(),sessionStorage.setItem("logged-in-username",n.state.username),m.a.post("/sign-up",{username:n.state.username,password:n.state.password,confirmPass:n.state.confirmPass,email:n.state.email,role:"Customer"},{headers:{"content-type":"application/json"}}).then((function(e){alert(e.data.message),n.setState({redirect:!0})})).catch((function(e){console.log(e.response.data.message),alert(e.response.data.message)}))},n.state={password:"",confirmPass:"",confirmPassBorder:"",username:"",email:"",redirect:!1},n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n.handleUsername=n.handleUsername.bind(Object(u.a)(n)),n.handlePassword=n.handlePassword.bind(Object(u.a)(n)),n.handleEmail=n.handleEmail.bind(Object(u.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return this.state.redirect?Object(A.jsx)(b.a,{to:"/homepage"}):Object(A.jsx)(O.Spring,{from:{opacity:0,marginTop:-500},to:{opacity:1,marginTop:200},config:{delay:400,duration:1500},children:function(t){return Object(A.jsx)("div",{style:t,children:Object(A.jsxs)("div",{className:"signup-frame",children:[Object(A.jsx)("img",{className:"signup-img"}),Object(A.jsx)("h2",{className:"header",children:"Sign Up:"}),Object(A.jsx)("div",{className:"myForm",children:Object(A.jsx)("form",{onSubmit:e.handleSubmit,method:"get",children:Object(A.jsxs)("div",{className:"innerForm",children:[Object(A.jsx)("label",{className:"labels",children:"Username: "}),Object(A.jsx)("input",{className:"myInput",type:"text",placeholder:"Enter username",value:e.state.username,onChange:e.handleUsername,required:!0}),Object(A.jsx)("label",{className:"labels",children:"Password: "}),Object(A.jsx)("input",{className:"myInput",type:"password",placeholder:"Enter password",value:e.state.password,onChange:e.handlePassword,required:!0}),Object(A.jsxs)("label",{className:"labelsConfirm",children:["Confirm Password:"," "]}),Object(A.jsx)("input",{className:"myInput",type:"password",placeholder:"Confirm password",value:e.state.confirmPass,onChange:e.handleConfirmPass,required:!0}),Object(A.jsx)("label",{className:"labels",children:"Email: "}),Object(A.jsx)("input",{className:"myInput",type:"email",placeholder:"Enter email",value:e.state.email,onChange:e.handleEmail,required:!0}),Object(A.jsx)("div",{className:"wrapper",children:Object(A.jsx)("button",{className:"btn",type:"submit",children:"Accept"})}),Object(A.jsxs)("div",{className:"already-user",children:["Already a user?",Object(A.jsx)("br",{}),Object(A.jsx)(h.b,{className:"login-link",to:"/login",children:"Log in now!"})]})]})})})]})})}})}}]),a}(n.Component)),k=(a(113),a(114),a(130)),N=a(123),L=a(62),C=a(124),U=a(63),P=a(125),D=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).updatedPackageDisplay=function(){return("Admin"==sessionStorage.getItem("logged-in-role")||"Travel Agent"==sessionStorage.getItem("logged-in-role"))&&"yes"===n.props.updated?Object(A.jsx)("h4",{style:{color:"red"},children:"Package Updated"}):null},n.state={name:n.props.name,description:n.props.description,quantity:n.props.quantity,price:n.props.price,url:n.props.url},n}return Object(o.a)(a,[{key:"render",value:function(){return Object(A.jsxs)(k.a,{className:"myCard",children:[Object(A.jsx)(k.a.Img,{className:"myCardImage",variant:"top",src:this.state.url}),Object(A.jsxs)(k.a.Body,{style:{overflow:"auto"},children:[Object(A.jsxs)(k.a.Title,{children:[this.state.name,this.updatedPackageDisplay()]}),Object(A.jsx)(k.a.Text,{children:this.state.description})]}),Object(A.jsxs)(N.a,{className:"list-group-flush",children:[Object(A.jsxs)(L.a,{children:["Price: ",this.state.price]}),Object(A.jsxs)(L.a,{children:["Packages left: ",this.state.quantity]})]}),Object(A.jsxs)(k.a.Body,{children:[Object(A.jsx)(h.b,{to:{pathname:"/make-order/".concat(this.props.name,"/").concat(this.props.price,"/").concat(this.props.description)},className:"card-link",children:"Make an Order!"}),"Customer"!=sessionStorage.getItem("logged-in-role")?Object(A.jsxs)(C.a,{className:" justify-content-center",children:[Object(A.jsx)(U.a,{children:Object(A.jsx)(P.a,{className:"update-button",variant:"warning",children:Object(A.jsxs)(h.b,{to:{pathname:"/update-package/".concat(this.props.name,"/").concat(this.props.description,"/").concat(this.props.price,"/").concat(this.props.quantity,"/").concat(this.props.url)},children:["Upgrade"," "]})})}),Object(A.jsx)(U.a,{children:Object(A.jsx)(P.a,{className:"delete-button",variant:"warning",children:Object(A.jsxs)(h.b,{to:{pathname:"/delete-package/".concat(this.props.name)},children:["Delete"," "]})})})]}):null]})]})}}]),a}(n.Component),w=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).AddPackage=function(){if("Admin"==sessionStorage.getItem("logged-in-role")||"Travel Agent"==sessionStorage.getItem("logged-in-role"))return Object(A.jsx)("h5",{className:"h5-packages",children:Object(A.jsx)("a",{href:"/add-package",children:"Add new package!"})})},n.handleLocation=function(e){e.preventDefault(),n.setState({location:e.target.value})},n.state={data:void 0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.get("/packages").then((function(t){e.setState({data:t.data})})).catch((function(e){console.log(e.response.data.message),alert(e.response.data.message)}))}},{key:"render",value:function(){var e=this;return void 0===this.state.data?Object(A.jsx)("div",{className:"text-center",children:Object(A.jsx)("div",{className:"spinner-border",role:"status",children:Object(A.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"package",children:[Object(A.jsxs)("div",{className:"wrraper",children:[Object(A.jsx)("label",{className:"packageLabel",htmlFor:"location",children:"Choose Location:"}),Object(A.jsx)("input",{onChange:this.handleLocation,className:"packageInput",id:"location"})]}),Object(A.jsx)("br",{})]}),this.AddPackage(),"d",Object(A.jsx)("div",{className:"d-flex flex-row flex-wrap my-flex-container",children:this.state.data.map((function(t){return t.quantity>0?Object(A.jsx)("div",{className:"p-2 my-flex-item",children:Object(A.jsx)(D,{name:t.name,description:t.description,url:t.url,quantity:t.quantity,price:t.price,updated:t.updated,history:e.props.history},t.description)},t.description):null}))})]})}}]),a}(n.Component),I=a(129),q=(a(43),function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleURL=function(e){n.setState({url:e.target.value})},n.handleName=function(e){n.setState({name:e.target.value})},n.handleDescription=function(e){n.setState({description:e.target.value})},n.handleQuantity=function(e){n.setState({quantity:parseInt(e.target.value)})},n.handlePrice=function(e){n.setState({price:e.target.value+"$"})},n.handleFile=function(e){var t=URL.createObjectURL(document.querySelector("#image").files[0]);n.setState({url:t})},n.handleURLLink=function(){if(""!==n.state.url)return Object(A.jsx)("a",{href:n.state.url,target:"__blank",children:"Check picture url"})},n.handleSubmit=function(){event.preventDefault(),m.a.post("/add-package",n.state).then((function(e){alert(e.data.message),n.props.history.push("/packages")})).catch((function(e){alert(e),console.log(e)}))},n.state={name:"",description:"",quantity:0,price:"",url:"",updated:"No"},n.handleURL=n.handleURL.bind(Object(u.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n.handleURLLink=n.handleURLLink.bind(Object(u.a)(n)),n.handleFile=n.handleFile.bind(Object(u.a)(n)),n.handleName=n.handleName.bind(Object(u.a)(n)),n.handleDescription=n.handleDescription.bind(Object(u.a)(n)),n.handleQuantity=n.handleQuantity.bind(Object(u.a)(n)),n.handlePrice=n.handlePrice.bind(Object(u.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){return"Admin"==sessionStorage.getItem("logged-in-role")||"Travel Agent"==sessionStorage.getItem("logged-in-role")?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("h3",{className:"h-as-title",children:"AddPackage"}),Object(A.jsxs)(I.a,{className:"add-package-form",onSubmit:this.handleSubmit,children:[Object(A.jsxs)(I.a.Group,{children:[Object(A.jsx)(I.a.Label,{children:"Package name"}),Object(A.jsx)(I.a.Control,{required:!0,onChange:this.handleName})]}),Object(A.jsxs)(I.a.Group,{children:[Object(A.jsx)(I.a.Label,{children:"Description"}),Object(A.jsx)(I.a.Control,{as:"textarea",rows:3,required:!0,onChange:this.handleDescription})]}),Object(A.jsxs)(I.a.Group,{children:[Object(A.jsx)(I.a.Label,{children:"Price"}),Object(A.jsx)(I.a.Control,{type:"number",required:!0,onChange:this.handlePrice})]}),Object(A.jsxs)(I.a.Group,{children:[Object(A.jsx)(I.a.Label,{children:"Quantity"}),Object(A.jsx)(I.a.Control,{type:"number",required:!0,onChange:this.handleQuantity})]}),Object(A.jsxs)(I.a.Group,{children:[Object(A.jsx)(I.a.Label,{children:"Image"}),Object(A.jsx)(I.a.Group,{children:Object(A.jsx)(I.a.File,{id:"image",accept:"image/*",onChange:this.handleFile})}),Object(A.jsx)(I.a.Control,{placeholder:"Or set image url",onChange:this.handleURL,required:!0}),this.handleURLLink()]}),Object(A.jsx)(P.a,{type:"submit",style:{border:"none"},children:"Submit!"})]})]}):Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)("h2",{children:["You have no permission to visit this page, please"," ",Object(A.jsx)("a",{href:"/",children:"Log-in"})]})})}}]),a}(n.Component)),R=a(126),F=(a(116),function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleAccept=function(e){m.a.post("/update-order-status",{User:e,Status:"Accepted"}).then((function(e){alert(e.data.message)})).catch((function(e){alert(e.data.message),console.log(e.data.message)}))},n.handleAcceptAll=function(){m.a.post("/update-all-ordes-statuses",{Status:"Accepted"}).then((function(e){alert(e.data.message)})).catch((function(e){alert(e.data.message),console.log(e.data.message)}))},n.filterOrders=function(e){n.setState({searchValue:e.target.value})},n.sort=function(e){var t;t="Order date"==e||"Start"==e||"End"==e?n.state.orders.sort((function(t,a){return new Date(a[e])-new Date(t[e])})):n.state.orders.sort((function(t,a){return t[e]<a[e]?-1:t[e]>a[e]?1:0})),console.log(t),n.setState({orders:t})},n.state={orders:[],temp:[],tableTitles:void 0,searchValue:""},m.a.get("/orders").then((function(e){var t=Object.keys(e.data[0]).slice(1);t[4]="Order date",n.setState({tableTitles:t,orders:e.data})})).catch((function(e){console.log(e.response.data.message),alert(e.response.data.message)})),n.sort=n.sort.bind(Object(u.a)(n)),n.filterOrders=n.filterOrders.bind(Object(u.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return void 0===this.state.tableTitles?Object(A.jsx)("div",{className:"text-center",children:Object(A.jsx)("div",{className:"spinner-border",role:"status",children:Object(A.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"package",children:[Object(A.jsxs)("div",{className:"wrraper",children:[Object(A.jsx)("label",{className:"packageLabel",htmlFor:"location",children:"Search order:"}),Object(A.jsx)("input",{onChange:this.filterOrders,className:"packageInput",id:"location"})]}),Object(A.jsx)("br",{})]}),Object(A.jsxs)(R.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"orders-table",children:[Object(A.jsx)("thead",{children:Object(A.jsxs)("tr",{children:[Object(A.jsxs)("th",{children:["#"," "]}),this.state.tableTitles.map((function(t,a){return Object(A.jsx)(n.Fragment,{children:Object(A.jsxs)("th",{children:[t," ",Object(A.jsx)("button",{className:"sort-by-btn",id:a,onClick:function(){return e.sort(t)},children:"v"})]})},a)})),Object(A.jsxs)("th",{children:["Approve"," "]})]})}),Object(A.jsx)("tbody",{children:this.state.orders.filter((function(t){return t.OrderName.includes(e.state.searchValue)||t.Destination.includes(e.state.searchValue)})).map((function(t,a){return Object(A.jsx)(n.Fragment,{children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:++a}),Object(A.jsx)("td",{children:t.OrderName}),Object(A.jsx)("td",{children:t.User}),Object(A.jsx)("td",{children:t.Destination}),Object(A.jsx)("td",{children:t.Price}),Object(A.jsx)("td",{children:t.Deal}),Object(A.jsx)("td",{children:t.Status}),Object(A.jsx)("td",{children:t.OrderDate}),Object(A.jsx)("td",{children:t.Start}),Object(A.jsx)("td",{children:t.End}),Object(A.jsx)("td",{children:Object(A.jsx)(P.a,{onClick:function(){e.handleAccept(t.User)},children:"Accept"})})]})},a)}))})]}),Object(A.jsx)(P.a,{onClick:this.handleAcceptAll,children:"Accpet All"})]})}}]),a}(n.Component)),V=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(A.jsx)(C.a,{children:"flights"})}}]),a}(n.Component);var G=function(){return!!sessionStorage.getItem("logged-in-username")},M=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)("h2",{children:["You have no permission to visit this page, please"," ",Object(A.jsx)("a",{href:"/",children:"Log-in"})]})})}}]),a}(n.Component),Z=(a(117),a(128)),Q=a(131),W=a(47),K=(a(118),function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={data:void 0},m.a.get("/packages").then((function(e){n.setState({data:e.data})})).catch((function(e){console.log(e.response.data.message),alert(e.response.data.message)})),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return void 0===this.state.data?Object(A.jsx)("div",{className:"text-center",children:Object(A.jsx)("div",{className:"spinner-border",role:"status",children:Object(A.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("input",{type:"search",placeholder:"Search for packages...",className:"search-input",list:"cityname"}),Object(A.jsx)("datalist",{id:"cityname",children:this.state.data.map((function(t){return Object(A.jsx)("div",{children:Object(A.jsx)(h.b,{to:{pathname:"/make-order/".concat(e.props.name,"/").concat(e.props.price,"/").concat(e.props.description)},children:Object(A.jsx)("option",{value:t.name,children:t.price})})},t.description)}))})]})}}]),a}(s.a.Component));x.b.add(f.a,v.d,v.c);var T=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).logoutClick=function(){sessionStorage.removeItem("logged-in-username"),sessionStorage.removeItem("logged-in-role"),n.props.history.push("/")},n.logoutClick=n.logoutClick.bind(Object(u.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){return Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)(Z.a,{variant:"dark",className:"navbar navbar-custom",children:[Object(A.jsx)(h.b,{to:"./homepage",children:Object(A.jsx)("img",{src:"data:image/png;base64,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",alt:"",className:"img_logo"})}),Object(A.jsxs)(Q.a,{className:"mr-auto",children:[Object(A.jsx)(h.b,{to:"/homepage",className:"navLink nav-link",children:"Home"}),Object(A.jsxs)("div",{className:"dropdown",children:[Object(A.jsx)(Q.a.Link,{className:"navLink",children:"Features"}),Object(A.jsxs)("div",{className:"dropdown-content",children:[Object(A.jsxs)("div",{children:[Object(A.jsx)(h.b,{to:"/flights",children:"Flights"}),Object(A.jsx)(h.b,{to:"/hotels",children:"Hotels"}),Object(A.jsx)(h.b,{to:"/car",children:"Rental Cars"})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)(h.b,{to:"/packages",children:"Packages"}),Object(A.jsx)(h.b,{to:"/attractions",children:"Attractions"})]})]})]}),Object(A.jsxs)("div",{className:"dropdown",children:[Object(A.jsx)(Q.a.Link,{className:"navLink",children:"Pricing"}),Object(A.jsx)("div",{className:"dropdown-content",style:{minWidth:"130px"},children:Object(A.jsxs)("div",{children:[Object(A.jsx)(h.b,{to:"#",children:"100$-500$"}),Object(A.jsx)(h.b,{to:"#",children:"500$-1000$"}),Object(A.jsx)(h.b,{to:"#",children:"1000$-5000$"})]})})]}),Object(A.jsx)("div",{className:"searchBar",children:Object(A.jsx)(K,{})})]}),Object(A.jsxs)(I.a,{className:"navbar-nav text-right",children:[Object(A.jsxs)("h5",{className:"h5-nav",children:[Object(A.jsx)(W.a,{className:"user-icon",icon:"user"})," ",Object(A.jsx)("span",{className:"welcome",children:"Welcome "}),Object(A.jsx)("span",{className:"user-name",children:sessionStorage.getItem("logged-in-username")})]}),Object(A.jsxs)("div",{className:"dropdown",children:[Object(A.jsx)(W.a,{className:"cog",icon:"cog"}),Object(A.jsx)("div",{className:"dropdown-content",style:{minWidth:"160px",right:"3%"},children:Object(A.jsxs)("div",{children:["Admin"==sessionStorage.getItem("logged-in-role")?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(h.b,{to:"/admin-ref",children:"Admin Settings"}),Object(A.jsx)(h.b,{to:"/customer-info",children:"Personal Info"}),Object(A.jsx)(h.b,{to:"/orders-list",children:"Reservations"})]}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(h.b,{to:"/customer-info",children:"Personal Info"}),Object(A.jsx)(h.b,{to:"/customer-reservations",children:"Reservations"})]}),Object(A.jsx)(h.b,{to:"#",onClick:this.logoutClick,children:"Log Out"})]})})]})]})]})})}}]),a}(s.a.Component),z=new Date(Date.now()+864e6),X=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleDates=function(e){n.setState({start:e.target.value,end:new Date(Date.parse(e.target.value)+432e6).toLocaleDateString("en-GB")})},n.handleSubmit=function(e){e.preventDefault();var t=0;m.a.post("/add-order",{OrderName:n.state.orderName,User:sessionStorage.getItem("logged-in-username"),Destination:n.props.match.params.destination,Price:n.props.match.params.price,Deal:"Package",Status:"Pending",OrderDate:z.toUTCString(),Start:n.state.start.split("-").reverse().join("/"),End:n.state.end}).then((function(e){alert(e.data.message)})).catch((function(e){alert(e.data.message),console.log(e.data.message)})),m.a.get("/one-package",{params:{Description:n.props.match.params.description}}).then((function(e){n.setState({data:e.data},(function(){(t=n.state.data[0].quantity)>0&&m.a.post("/decrement-quantity",{description:n.props.match.params.description,quantity:t}).then((function(e){alert(e.data.message)})).catch((function(e){alert(e.data.message),console.log(e.data.message)}))}))})).catch((function(e){console.log(e.response.data.message),alert(e.response.data.message)}))},n.state={start:z.toISOString().split("T")[0],end:z.toISOString().split("T")[0].split("-").reverse().join("/"),package:void 0,orderName:"#"+n.props.match.params.destination[0]+String(Math.floor(1e5*Math.random()))},n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n.handleDates=n.handleDates.bind(Object(u.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){return"Admin"==sessionStorage.getItem("logged-in-role")||"Travel Agent"==sessionStorage.getItem("logged-in-role")||"Customer"==sessionStorage.getItem("logged-in-role")?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("h3",{className:"h-as-title",children:"Make an order"}),Object(A.jsxs)(I.a,{className:"add-package-form",onSubmit:this.handleSubmit,children:[Object(A.jsxs)(I.a.Group,{children:[Object(A.jsx)(I.a.Label,{children:"Order name"}),Object(A.jsx)(I.a.Control,{readOnly:!0,defaultValue:this.state.orderName})]}),Object(A.jsxs)(I.a.Group,{children:[Object(A.jsx)(I.a.Label,{children:"Package name"}),Object(A.jsx)(I.a.Control,{readOnly:!0,defaultValue:this.props.match.params.destination})]}),Object(A.jsxs)(I.a.Group,{children:[Object(A.jsx)(I.a.Label,{children:"Description"}),Object(A.jsx)(I.a.Control,{as:"textarea",readOnly:!0,defaultValue:this.props.match.params.description,rows:3})]}),Object(A.jsxs)(I.a.Group,{children:[Object(A.jsx)(I.a.Label,{children:"Price"}),Object(A.jsx)(I.a.Control,{readOnly:!0,defaultValue:this.props.match.params.price})]}),Object(A.jsxs)(I.a.Group,{children:[Object(A.jsx)(I.a.Label,{children:"Start Date"}),Object(A.jsx)(I.a.Control,{id:"date-input",type:"date",min:z.toISOString().split("T")[0],value:this.state.start,onChange:this.handleDates,required:!0}),Object(A.jsx)(I.a.Label,{children:"End Date"}),Object(A.jsx)(I.a.Control,{readOnly:!0,value:this.state.end,required:!0})]}),Object(A.jsx)(P.a,{type:"submit",style:{border:"none"},children:"Submit!"})]})]}):Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)("h2",{children:["You have no permission to visit this page, please"," ",Object(A.jsx)("a",{href:"/",children:"Log-in"})]})})}}]),a}(n.Component),B=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleURL=function(e){n.setState({url:e.target.value})},n.handleName=function(e){n.setState({name:e.target.value})},n.handleDescription=function(e){n.setState({description:e.target.value})},n.handleQuantity=function(e){n.setState({quantity:e.target.value})},n.handlePrice=function(e){n.setState({price:e.target.value+"$"})},n.handleFile=function(e){e.preventDefault();var t=URL.createObjectURL(document.querySelector("#image").files[0]);n.setState({url:t})},n.handleURLLink=function(){if(""!==n.state.url)return Object(A.jsx)("a",{href:n.props.location.pathname.substring(n.props.location.pathname.indexOf("https"),n.props.location.pathname.length),target:"__blank",children:"Check picture url"})},n.handleSubmit=function(e){e.preventDefault(),n.setState({url:n.props.location.pathname.substring(n.props.location.pathname.indexOf("https"),n.props.location.pathname.length)}),m.a.post("/update-package",Object(i.a)(Object(i.a)({},n.state),{},{updated:"yes"})).then((function(e){alert(e.data.message),n.props.history.push("/packages")})).catch((function(e){alert(e),console.log(e)}))},n.state={name:n.props.match.params.destination,description:n.props.match.params.description,price:n.props.match.params.price,quantity:n.props.match.params.quantity,url:n.props.match.params.url,data:void 0},n.handleURL=n.handleURL.bind(Object(u.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n.handleURLLink=n.handleURLLink.bind(Object(u.a)(n)),n.handleFile=n.handleFile.bind(Object(u.a)(n)),n.handleName=n.handleName.bind(Object(u.a)(n)),n.handleDescription=n.handleDescription.bind(Object(u.a)(n)),n.handleQuantity=n.handleQuantity.bind(Object(u.a)(n)),n.handlePrice=n.handlePrice.bind(Object(u.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){if("Admin"==sessionStorage.getItem("logged-in-role")||"Travel Agent"==sessionStorage.getItem("logged-in-role"))return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("h3",{className:"h-as-title",children:"Update Package"}),Object(A.jsxs)(I.a,{className:"add-package-form",onSubmit:this.handleSubmit,children:[Object(A.jsxs)(I.a.Group,{children:[Object(A.jsx)(I.a.Label,{children:"Package name"}),Object(A.jsx)(I.a.Control,{defaultValue:this.state.name,required:!0,onChange:this.handleName})]}),Object(A.jsxs)(I.a.Group,{children:[Object(A.jsx)(I.a.Label,{children:"Description"}),Object(A.jsx)(I.a.Control,{defaultValue:this.state.description,as:"textarea",rows:3,required:!0,onChange:this.handleDescription})]}),Object(A.jsxs)(I.a.Group,{children:[Object(A.jsx)(I.a.Label,{children:"Price"}),Object(A.jsx)(I.a.Control,{type:"number",required:!0,defaultValue:parseInt(this.state.price.substring(0,this.state.price.length-1)),onChange:this.handlePrice})]}),Object(A.jsxs)(I.a.Group,{children:[Object(A.jsx)(I.a.Label,{children:"Quantity"}),Object(A.jsx)(I.a.Control,{type:"number",required:!0,defaultValue:this.state.quantity,onChange:this.handleQuantity})]}),Object(A.jsxs)(I.a.Group,{children:[Object(A.jsx)(I.a.Label,{children:"Image"}),Object(A.jsx)(I.a.Group,{children:Object(A.jsx)(I.a.File,{id:"image",accept:"image/*",onChange:this.handleFile})}),Object(A.jsx)(I.a.Control,{placeholder:"Or set image url",onChange:this.handleURL,defaultValue:this.props.location.pathname.substring(this.props.location.pathname.indexOf("https"),this.props.location.pathname.length),required:!0}),this.handleURLLink()]}),Object(A.jsx)(P.a,{type:"submit",style:{border:"none"},children:"Update"})]})]})}}]),a}(n.Component),H=(a(119),function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleSubmit=function(){m.a.get("/delete-package/".concat(n.props.match.params.name)).then((function(e){alert(e.data.message),n.props.history.push("/packages")})).catch((function(e){alert(e),console.log(e)}))},n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(C.a,{className:"delete-conatiner",children:Object(A.jsxs)("h3",{className:"delete-package-title",children:["Please confirm delete package ",this.props.match.params.name," by click on the button:"]})}),Object(A.jsx)(P.a,{className:"delete-package-button",onClick:this.handleSubmit,children:"Delete"})]})}}]),a}(n.Component)),J=(a(120),function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleSubmit=function(){event.preventDefault(),m.a.post("/modify-role",{newRole:n.state.role,username:n.state.username},{headers:{"content-type":"application/json"}}).then((function(e){alert(e.data.message),n.props.history.push("/homepage")})).catch((function(e){console.log(e.response.data.message),alert(e.response.data.message)}))},n.handleSelectedOption=function(e){n.setState({role:e.target.value})},n.handleUsername=function(e){n.setState({username:e.target.value})},n.state={role:"Admin",username:""},n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n.handleSelectedOption=n.handleSelectedOption.bind(Object(u.a)(n)),n.handleUsername=n.handleUsername.bind(Object(u.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("h3",{className:"h-as-title",children:"Admin"}),Object(A.jsx)(C.a,{children:Object(A.jsxs)(I.a,{className:"admin-form",onSubmit:this.handleSubmit,children:[Object(A.jsx)(I.a.Group,{controlId:"exampleForm.ControlInput1",children:Object(A.jsx)(I.a.Control,{placeholder:"Enter username here",required:!0,onChange:this.handleUsername})}),Object(A.jsxs)(I.a.Group,{controlId:"exampleForm.ControlSelect2",children:[Object(A.jsx)(I.a.Label,{children:"Select new role:"}),Object(A.jsxs)(I.a.Control,{as:"select",onChange:this.handleSelectedOption,children:[Object(A.jsx)("option",{children:"Admin"}),Object(A.jsx)("option",{children:"Customer"}),Object(A.jsx)("option",{children:"Travel Agent"})]})]}),Object(A.jsx)(P.a,{type:"submit",style:{border:"none"},children:"Submit!"})]})})]})}}]),a}(n.Component)),Y=a(127),E=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).fetchAgain=function(){m.a.get("/customer-orders",{params:{User:sessionStorage.getItem("logged-in-username")}}).then((function(e){n.setState({data:e.data},(function(){console.log(e.data)}))})).catch((function(e){console.log(e.response.data.message),alert(e.response.data.message)}))},n.cancelOrder=function(e,t){m.a.get("/one-package-destination",{params:{name:e}}).then((function(a){n.setState({data:a.data});var s=n.state.data[0].quantity;console.log("quantity : ".concat(s)),s>=0&&m.a.post("/increment-quantity",{destination:e,quantity:s}).then((function(a){alert(a.data.message),m.a.post("/update-order-status-canceled",{Destination:e,User:t,Status:"Canceled"}).then((function(e){alert(e.data.message)})).catch((function(e){alert(e.data.message),console.log(e.data.message)}))})).catch((function(e){alert(e.data.message),console.log(e.data.message)}))})).catch((function(e){console.log(e.response.data.message),alert(e.response.data.message)}))},n.state={data:void 0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.get("/customer-orders",{params:{User:sessionStorage.getItem("logged-in-username")}}).then((function(t){e.setState({data:t.data},(function(){console.log(t.data)}))})).catch((function(e){console.log(e.response.data.message),alert(e.response.data.message)}))}},{key:"render",value:function(){var e=this;return void 0===this.state.data?Object(A.jsx)("div",{className:"text-center",children:Object(A.jsx)("div",{className:"spinner-border",role:"status",children:Object(A.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(A.jsxs)(C.a,{children:[function(){e.fetchAgain()},Object(A.jsx)(Y.a,{children:Object(A.jsxs)(R.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"orders-table",children:[Object(A.jsx)("thead",{children:Object(A.jsxs)("tr",{children:[Object(A.jsxs)("th",{children:["#"," "]}),Object(A.jsxs)("th",{children:["User"," "]}),Object(A.jsxs)("th",{children:["Destination"," "]}),Object(A.jsxs)("th",{children:["Price"," "]}),Object(A.jsxs)("th",{children:["Deal"," "]}),Object(A.jsxs)("th",{children:["Status"," "]}),Object(A.jsxs)("th",{children:["Order Date"," "]}),Object(A.jsxs)("th",{children:["Start"," "]}),Object(A.jsxs)("th",{children:["End"," "]}),Object(A.jsxs)("th",{children:["Cancel"," "]})]})}),Object(A.jsx)("tbody",{children:this.state.data.map((function(t,a){return Object(A.jsx)(n.Fragment,{children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:++a}),Object(A.jsx)("td",{children:t.User}),Object(A.jsx)("td",{children:t.Destination}),Object(A.jsx)("td",{children:t.Price}),Object(A.jsx)("td",{children:t.Deal}),Object(A.jsx)("td",{children:t.Status}),Object(A.jsx)("td",{children:t.OrderDate}),Object(A.jsx)("td",{children:t.Start}),Object(A.jsx)("td",{children:t.End}),Object(A.jsx)("td",{children:"Canceled"===t.Status?Object(A.jsx)(P.a,{disabled:!0,onClick:function(){e.cancelOrder(t.Destination,t.User)},children:"Cancel"}):Object(A.jsx)(P.a,{onClick:function(){e.cancelOrder(t.Destination,t.User)},children:"Cancel"})})]})},a)}))})]})})]})}}]),a}(n.Component);x.b.add(f.a,v.a,v.b);var $=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"render",value:function(){return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)("div",{className:"bg",children:Object(A.jsx)(h.a,{children:Object(A.jsxs)(b.d,{children:[Object(A.jsx)(b.b,{exact:!0,path:"/",render:function(){return Object(A.jsx)(b.a,{to:"/login"})}}),Object(A.jsx)(b.b,{path:"/login",component:g}),Object(A.jsx)(b.b,{path:"/signUp",component:y}),Object(A.jsx)(b.b,{path:"/not-auth",component:M}),Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(T,{history:this.props.history}),Object(A.jsx)(b.b,{path:"/homepage",render:function(){return G()?Object(A.jsx)(S,{}):Object(A.jsx)(b.a,{to:"/not-auth"})}}),Object(A.jsx)(b.b,{path:"/flights",render:function(){return G()?Object(A.jsx)(V,{}):Object(A.jsx)(b.a,{to:"/not-auth"})}}),Object(A.jsx)(b.b,{path:"/customer-reservations",render:function(){return G()?Object(A.jsx)(E,{}):Object(A.jsx)(b.a,{to:"/not-auth"})}}),Object(A.jsx)(b.b,{path:"/packages",render:function(e){return G()?Object(A.jsx)(w,Object(i.a)({},e)):Object(A.jsx)(b.a,{to:"/not-auth"})}}),Object(A.jsx)(b.b,{path:"/add-package",render:function(e){return G()?Object(A.jsx)(q,Object(i.a)({},e)):Object(A.jsx)(b.a,{to:"/not-auth"})}}),Object(A.jsx)(b.b,{path:"/update-package/:destination/:description/:price/:quantity/:url",render:function(e){return G()?Object(A.jsx)(B,Object(i.a)({},e)):Object(A.jsx)(b.a,{to:"/not-auth"})}}),Object(A.jsx)(b.b,{path:"/delete-package/:name",render:function(e){return G()?Object(A.jsx)(H,Object(i.a)({},e)):Object(A.jsx)(b.a,{to:"/not-auth"})}}),Object(A.jsx)(b.b,{path:"/orders-list",render:function(){return G()?Object(A.jsx)(F,{}):Object(A.jsx)(b.a,{to:"/not-auth"})}}),Object(A.jsx)(b.b,{path:"/admin-ref",render:function(){return G()?Object(A.jsx)(J,{}):Object(A.jsx)(b.a,{to:"/not-auth"})}}),Object(A.jsx)(b.b,{path:"/make-order/:destination/:price/:description",render:function(e){return G()?Object(A.jsx)(X,Object(i.a)({},e)):Object(A.jsx)(b.a,{to:"/not-auth"})}})]})]})})})})}}]),a}(s.a.Component);c.a.render(Object(A.jsx)(s.a.StrictMode,{children:Object(A.jsx)($,{})}),document.getElementById("root"))},43:function(e,t,a){},70:function(e,t,a){},88:function(e,t,a){}},[[121,1,2]]]);
//# sourceMappingURL=main.5c4807c0.chunk.js.map