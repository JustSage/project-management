(this["webpackJsonpproject-management"]=this["webpackJsonpproject-management"]||[]).push([[0],{102:function(e,t,a){},120:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),c=a(30),r=a.n(c),i=a(21),l=a(8),o=a(9),d=a(11),j=a(10),h=(a(102),a(13)),u=a(14),b=a(12),p=a(7),m=a.n(p),O=(a(36),a(53)),x=(a(120),a.p+"static/media/avatar.3dafadc3.png"),g=a(0),A=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handlePassword=function(e){n.setState({password:e.target.value})},n.handleUsername=function(e){n.setState({username:e.target.value})},n.handleSignUp=function(){n.setState({signUp_redirect:!0})},n.handleSubmit=function(){event.preventDefault(),m.a.post("/login",{username:n.state.username,password:n.state.password},{headers:{"content-type":"application/json"}}).then((function(e){sessionStorage.setItem("logged-in-username",n.state.username),sessionStorage.setItem("logged-in-role",e.data.role),sessionStorage.setItem("logged-in-email",e.data.email),n.props.history.push("/homepage")})).catch((function(e){alert(e.response.data.message)}))},n.state={password:"",username:"",redirect:!1,signUp_redirect:!1},n.handleSubmit=n.handleSubmit.bind(Object(b.a)(n)),n.handleUsername=n.handleUsername.bind(Object(b.a)(n)),n.handlePassword=n.handlePassword.bind(Object(b.a)(n)),n.handleSignUp=n.handleSignUp.bind(Object(b.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return this.state.signUp_redirect?Object(g.jsx)(u.a,{to:"/signUp"}):Object(g.jsx)(O.Spring,{from:{opacity:0,marginTop:-500},to:{opacity:1,marginTop:200},config:{delay:400,duration:1500},children:function(t){return Object(g.jsx)("div",{style:t,children:Object(g.jsxs)("div",{className:"login-frame",children:[Object(g.jsx)("img",{className:"login-img",src:x}),Object(g.jsx)("h2",{style:{textAlign:"center"},children:"Log In:"}),Object(g.jsx)("div",{className:"myForm",children:Object(g.jsxs)("form",{onSubmit:e.handleSubmit,method:"get",children:[Object(g.jsx)("label",{className:"login-label",children:"Username: "}),Object(g.jsx)("br",{}),Object(g.jsx)("input",{className:"myInput",type:"text",placeholder:"Enter username or email",value:e.state.username,onChange:e.handleUsername,required:!0}),Object(g.jsx)("br",{}),Object(g.jsx)("label",{className:"login-label",children:"Password:"}),Object(g.jsx)("input",{className:"myInput",type:"password",placeholder:"Enter password",value:e.state.password,onChange:e.handlePassword,required:!0}),Object(g.jsx)("div",{className:"wrapper",children:Object(g.jsx)("button",{className:"btn-login",type:"submit",children:"Log in"})}),Object(g.jsxs)("div",{className:"not-user",children:["Not a user?",Object(g.jsx)("br",{}),Object(g.jsx)(h.b,{className:"signup-link",to:"/signup",children:"Sign up now!"})]})]})})]})})}})}}]),a}(s.a.Component),f=a(18),v=a(41),S=a(17),y=(a(88),a(45)),k=a.n(y),N=a(54),C=a(154),D=a(155),w=a(94),L=a(156),U=a(157),I=a(167),M=a(158),P=a(159),q=new(a(93).a),R=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={destinations:void 0,latlongs:[]},m.a.get("/packages").then((function(e){var t=e.data.filter((function(e){return e.rating>=3})).map((function(e){return e.name}));n.setState({destinations:t}),function(){var e=Object(N.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map((function(e,t){return q.search({query:e})}))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()().then((function(e){e.size>5&&(e=e.slice(0,3));var t=e.map((function(e){return[[e[0].y,e[0].x],e[0]]}));n.setState({latlongs:t})}))})).catch((function(e){alert("Error in loading data!")})),n}return Object(o.a)(a,[{key:"render",value:function(){return void 0==this.state.destinations?Object(g.jsx)("div",{className:"text-center",children:Object(g.jsx)("div",{className:"spinner-border",role:"status",children:Object(g.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(C.a,{fluid:!0,style:{width:"90%",height:"90%"},children:[Object(g.jsxs)(D.a,{children:[Object(g.jsx)(w.a,{sm:2,className:"dest-text",children:"Some Of Our Recommended Destinations:"}),Object(g.jsx)(w.a,{sm:10})]}),Object(g.jsxs)(D.a,{children:[Object(g.jsx)(w.a,{sm:2,children:Object(g.jsx)(L.a,{variant:"flush",className:"dest-list",children:this.state.destinations.map((function(e,t){return Object(g.jsx)(L.a.Item,{children:e},t)}))})}),Object(g.jsx)(w.a,{sm:10,children:Object(g.jsxs)(U.a,{center:[25,0],zoom:3,scrollWheelZoom:!1,style:{height:"400px",width:"1000px"},children:[Object(g.jsx)(I.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),this.state.latlongs.map((function(e,t){return setTimeout((function(){}),10001),Object(g.jsx)(M.a,{position:e[0],children:Object(g.jsx)(P.a,{children:"".concat(e[1].label)})},t)}))]})})]})]})})}}]),a}(n.Component);f.b.add(v.a,S.a,S.b,S.h);var F=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={bar:"Flights"},n}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{align:"center",children:[Object(g.jsx)("h1",{style:{marginTop:"30px"},children:"Welcome to PineApple Travels!"}),Object(g.jsx)("h3",{margin:!0,top:!0,children:"About us:"}),Object(g.jsxs)("p",{children:["Our travel agency offers vacations to destinations all around the world!",Object(g.jsx)("br",{}),"You can reach us through our mail: TravelAgency@travelAgecny.com",Object(g.jsx)("br",{}),"Or through our phone: 123-456789"]}),Object(g.jsx)(R,{})]})})}}]),a}(n.Component),T=(a(143),function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handlePassword=function(e){n.setState({password:e.target.value})},n.handleConfirmPass=function(e){n.setState({confirmPass:e.target.value}),e.target.value==n.state.password?n.setState({confirmPassBorder:"lime"}):n.setState({confirmPassBorder:"red"})},n.handleUsername=function(e){n.setState({username:e.target.value})},n.handleEmail=function(e){n.setState({email:e.target.value})},n.handleSubmit=function(){event.preventDefault(),sessionStorage.setItem("logged-in-username",n.state.username),m.a.post("/send-email",{email:n.state.email}).then((function(){alert("email sent successfully!")})).catch((function(){alert("email did not sent successfully!")})),m.a.post("/sign-up",{username:n.state.username,password:n.state.password,confirmPass:n.state.confirmPass,email:n.state.email,role:"Customer"},{headers:{"content-type":"application/json"}}).then((function(e){alert(e.data.message),n.setState({redirect:!0})})).catch((function(e){alert(e.response.data.message)}))},n.state={password:"",confirmPass:"",confirmPassBorder:"",username:"",email:"",redirect:!1},n.handleSubmit=n.handleSubmit.bind(Object(b.a)(n)),n.handleUsername=n.handleUsername.bind(Object(b.a)(n)),n.handlePassword=n.handlePassword.bind(Object(b.a)(n)),n.handleEmail=n.handleEmail.bind(Object(b.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return this.state.redirect?Object(g.jsx)(u.a,{to:"/homepage"}):Object(g.jsx)(O.Spring,{from:{opacity:0,marginTop:-500},to:{opacity:1,marginTop:200},config:{delay:400,duration:1500},children:function(t){return Object(g.jsx)("div",{style:t,children:Object(g.jsxs)("div",{className:"signup-frame",children:[Object(g.jsx)("img",{className:"signup-img"}),Object(g.jsx)("h2",{className:"header",children:"Sign Up:"}),Object(g.jsx)("div",{className:"myForm",children:Object(g.jsx)("form",{onSubmit:e.handleSubmit,method:"get",children:Object(g.jsxs)("div",{className:"innerForm",children:[Object(g.jsx)("label",{className:"labels",children:"Username: "}),Object(g.jsx)("input",{className:"myInput",type:"text",placeholder:"Enter username",value:e.state.username,onChange:e.handleUsername,required:!0}),Object(g.jsx)("label",{className:"labels",children:"Password: "}),Object(g.jsx)("input",{className:"myInput",type:"password",placeholder:"Enter password",value:e.state.password,onChange:e.handlePassword,required:!0}),Object(g.jsxs)("label",{className:"labelsConfirm",children:["Confirm Password:"," "]}),Object(g.jsx)("input",{className:"myInput",type:"password",placeholder:"Confirm password",value:e.state.confirmPass,onChange:e.handleConfirmPass,required:!0}),Object(g.jsx)("label",{className:"labels",children:"Email: "}),Object(g.jsx)("input",{className:"myInput",type:"email",placeholder:"Enter email",value:e.state.email,onChange:e.handleEmail,required:!0}),Object(g.jsx)("div",{className:"wrapper",children:Object(g.jsx)("button",{className:"btn-signup",type:"submit",children:"Accept"})}),Object(g.jsxs)("div",{className:"already-user",children:["Already a user?",Object(g.jsx)("br",{}),Object(g.jsx)(h.b,{className:"login-link",to:"/login",children:"Log in now!"})]})]})})})]})})}})}}]),a}(n.Component)),G=a(160),V=a(162),Q=a(74),Z=a(15),W=a.n(Z),E=(a(144),function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleSubmit=function(){for(var e=[],t=0;t<n.state.customers.length;++t)e.push(n.state.customers[t].email);m.a.post("/send-broadcast-email",{emails:e,text:n.state.textArea}).then((function(){W()({title:"Broadcast Email",text:"Email sent successfully!",icon:"success"})})).catch((function(){W()({title:"Broadcast Email",text:"email did not sent successfully!",icon:"error"})}))},n.state={textArea:"",customers:[],tableTitles:void 0},m.a.get("/users").then((function(e){var t=Object.keys(e.data[0]).slice(1).filter((function(e){return"password"!=e}));n.setState({tableTitles:t,customers:e.data})})).catch((function(e){alert(e.response.data.message)})),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return void 0===this.state.tableTitles?Object(g.jsx)("div",{children:"Loading..."}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{children:"Customers"}),Object(g.jsxs)(G.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"customers-table",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsxs)("th",{children:["#"," "]}),this.state.tableTitles.map((function(e,t){return Object(g.jsx)(n.Fragment,{children:Object(g.jsxs)("th",{style:{height:"40px"},children:[e," "]})},t)}))]})}),Object(g.jsx)("tbody",{children:this.state.customers.map((function(e,t){return Object(g.jsx)(n.Fragment,{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{style:{width:"50px"},children:++t}),Object(g.jsx)("td",{children:e.username}),Object(g.jsx)("td",{children:e.email}),Object(g.jsx)("td",{children:e.role})]})},t)}))})]}),Object(g.jsxs)(V.a,{children:[Object(g.jsxs)(V.a.Group,{controlId:"textArea",children:[Object(g.jsx)(V.a.Label,{className:"label-customer",children:"Broadcast message:"}),Object(g.jsx)(V.a.Control,{as:"textarea",className:"message-customer",rows:3,onChange:function(t){e.setState({textArea:t.target.value})}})]}),Object(g.jsx)(Q.a,{className:"textButton",variant:"primary",onClick:this.handleSubmit.bind(this),children:"Send"})]})]})}}]),a}(n.Component)),K=(a(70),a(165)),z=a(95),B=a(26);f.b.add(S.f);var X=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleRating=function(){m.a.post("/update-rating",{name:n.props.name,rating:event.target.value}).then((function(e){alert(e.data.message),n.props.history.push("/packages/".concat(null))})).catch((function(e){alert(e)}))},n.updatedPackageDisplay=function(){return("Admin"==sessionStorage.getItem("logged-in-role")||"Travel Agent"==sessionStorage.getItem("logged-in-role"))&&"yes"===n.props.updated?Object(g.jsx)("span",{style:{color:"red"},children:"Package Updated"}):null},n.state={name:n.props.name,description:n.props.description,quantity:n.props.quantity,price:n.props.price,url:n.props.url,rating:n.props.rating,dates:n.props.dates},n}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(K.a,{className:"myCard",children:[Object(g.jsx)(K.a.Img,{className:"myCardImage",variant:"top",src:this.state.url}),Object(g.jsxs)(K.a.Body,{className:"card-body",children:[Object(g.jsxs)(K.a.Title,{children:[this.state.name," ",this.updatedPackageDisplay(),Object(g.jsx)(B.a,{className:"fa fa-star",icon:S.f})," ",Object(g.jsx)("span",{className:"rating",children:this.state.rating})]}),Object(g.jsx)(K.a.Text,{className:"card-text",children:this.state.description})]}),Object(g.jsxs)(L.a,{className:"list-group-flush",children:[Object(g.jsxs)(z.a,{children:["Price: ",this.state.price]}),Object(g.jsxs)(z.a,{children:["Packages left: ",this.state.quantity]})]}),Object(g.jsxs)(K.a.Body,{children:[Object(g.jsx)(h.b,{to:{pathname:"/make-order/".concat(this.props.name,"/").concat(this.props.price,"/").concat(this.props.description,"/").concat(this.props.quantity,"/").concat(this.props.dates)},className:"card-link",children:Object(g.jsx)(Q.a,{variant:"success",className:"mao-btn",children:"Make an Order!"})}),Object(g.jsx)(K.a.Body,{children:Object(g.jsx)(V.a,{children:Object(g.jsxs)(V.a.Group,{children:[Object(g.jsx)(V.a.Label,{children:"Rate Package:"}),Object(g.jsxs)(V.a.Control,{onChange:this.handleRating.bind(this),as:"select",children:[Object(g.jsx)("option",{id:"op1",children:"1"}),Object(g.jsx)("option",{id:"op2",children:"2"}),Object(g.jsx)("option",{id:"op3",children:"3"}),Object(g.jsx)("option",{id:"op4",children:"4"}),Object(g.jsx)("option",{id:"op5",children:"5"})]})]})})}),"Customer"!=sessionStorage.getItem("logged-in-role")?Object(g.jsx)(K.a.Body,{children:Object(g.jsxs)("div",{className:"updrage-delete",children:[Object(g.jsx)(Q.a,{variant:"primary",className:"upgrade-btn",children:Object(g.jsxs)(h.b,{style:{color:"white"},to:{pathname:"/update-package/".concat(this.props.name,"/").concat(this.props.description,"/").concat(this.props.price,"/").concat(this.props.quantity,"/").concat(this.state.dates,"/").concat(this.props.url)},children:["Upgrade"," "]})}),Object(g.jsx)(Q.a,{variant:"primary",className:"delete-btn",children:Object(g.jsxs)(h.b,{style:{color:"white"},to:{pathname:"/delete-package/".concat(this.props.name)},children:["Delete"," "]})})]})}):null]})]})}}]),a}(n.Component),H=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).AddPackage=function(){if("Admin"==sessionStorage.getItem("logged-in-role")||"Travel Agent"==sessionStorage.getItem("logged-in-role"))return Object(g.jsx)("h5",{className:"h5-packages",children:Object(g.jsx)("a",{href:"/add-package",className:"add-package-href",children:Object(g.jsx)(Q.a,{className:"anp-btn",children:"Add new package!"})})})},n.handleLocation=function(e){e.preventDefault(),n.setState({location:e.target.value})},n.state={data:void 0,location:void 0==sessionStorage.getItem("search-value")?"":sessionStorage.getItem("search-value")},sessionStorage.setItem("search-value",""),m.a.get("/packages").then((function(e){n.setState({data:e.data})})).catch((function(e){alert(e.message)})),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return void 0===this.state.data?Object(g.jsx)("div",{className:"text-center",children:Object(g.jsx)("div",{className:"spinner-border",role:"status",children:Object(g.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"package",children:[Object(g.jsxs)("div",{className:"wrraper",children:[Object(g.jsx)("label",{className:"packageLabel",htmlFor:"location",children:"Choose Location:"}),Object(g.jsx)("input",{onChange:this.handleLocation,className:"packageInput",id:"location",value:this.state.location})]}),Object(g.jsx)("br",{}),this.AddPackage()]}),Object(g.jsx)("div",{className:"d-flex flex-row flex-wrap my-flex-container",children:this.state.data.filter((function(t){return t.name.includes(e.state.location)})).map((function(t){return t.quantity>0?Object(g.jsx)("div",{className:"p-2 my-flex-item",children:Object(g.jsx)(X,{name:t.name,description:t.description,url:t.url,quantity:t.quantity,price:t.price,updated:t.updated,rating:t.rating,dates:t.packageDates,history:e.props.history},t.description)},t.description):null}))})]})}}]),a}(n.Component),Y=a(43),J=new Date(Date.now()+864e6),_=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleURL=function(e){n.setState({url:e.target.value})},n.handleName=function(e){n.setState({name:e.target.value})},n.handleDescription=function(e){n.setState({description:e.target.value})},n.handleQuantity=function(e){n.setState({quantity:parseInt(e.target.value)})},n.handlePrice=function(e){n.setState({price:e.target.value+"$"})},n.handleFile=function(e){var t=URL.createObjectURL(document.querySelector("#image").files[0]);n.setState({url:t})},n.handleURLLink=function(){if(""!==n.state.url)return Object(g.jsx)("a",{href:n.state.url,target:"__blank",children:"Check picture url"})},n.handleStartDate=function(e){n.start=e.target.value.split("T")[0]},n.handleDates=function(e){e.preventDefault();var t=e.target.value.split("T")[0],a=n.start+" to "+t;n.state.packageDates.includes(a)?alert("Dates already exist"):new Date(n.start)>new Date(t)?alert("You picked illegal dates!"):(n.setState({packageDates:[].concat(Object(Y.a)(n.state.packageDates),[a])}),alert("Successfully added vacation dates:".concat(a)))},n.handleSubmit=function(){event.preventDefault(),m.a.post("/add-package",n.state).then((function(e){alert(e.data.message),n.props.history.push("/packages/".concat(null))})).catch((function(e){alert(e)}))},n.state={name:"",description:"",quantity:0,price:"",url:"",updated:"No",rating:0,packageDates:[]},n.start=void 0,n}return Object(o.a)(a,[{key:"render",value:function(){return"Admin"==sessionStorage.getItem("logged-in-role")||"Travel Agent"==sessionStorage.getItem("logged-in-role")?Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(C.a,{fluid:!0,children:[Object(g.jsx)(D.a,{children:Object(g.jsx)("h3",{className:"h-as-title",children:"AddPackage"})}),Object(g.jsxs)(D.a,{children:[Object(g.jsx)(w.a,{sm:3}),Object(g.jsx)(w.a,{sm:6,children:Object(g.jsxs)(V.a,{className:"add-package-form",onSubmit:this.handleSubmit.bind(this),style:{marginBottom:"1%"},children:[Object(g.jsxs)(V.a.Group,{children:[Object(g.jsx)(V.a.Label,{children:"Package name"}),Object(g.jsx)(V.a.Control,{required:!0,onChange:this.handleName.bind(this)})]}),Object(g.jsxs)(V.a.Group,{children:[Object(g.jsx)(V.a.Label,{children:"Description"}),Object(g.jsx)(V.a.Control,{as:"textarea",rows:3,required:!0,onChange:this.handleDescription.bind(this)})]}),Object(g.jsxs)(V.a.Group,{children:[Object(g.jsx)(V.a.Label,{children:"Price"}),Object(g.jsx)(V.a.Control,{type:"number",required:!0,onChange:this.handlePrice.bind(this)})]}),Object(g.jsxs)(V.a.Group,{children:[Object(g.jsx)(V.a.Label,{children:"Quantity"}),Object(g.jsx)(V.a.Control,{type:"number",required:!0,onChange:this.handleQuantity.bind(this)})]}),Object(g.jsxs)(V.a.Group,{children:[Object(g.jsx)(V.a.Label,{children:"Image"}),Object(g.jsx)(V.a.Control,{placeholder:"Set image url",onChange:this.handleURL.bind(this),required:!0}),this.handleURLLink()]}),Object(g.jsxs)(V.a.Group,{children:[Object(g.jsx)(V.a.Label,{children:"Start date"}),Object(g.jsx)(V.a.Control,{id:"date-input",type:"date",min:J.toISOString().split("T")[0],onChange:this.handleStartDate.bind(this),required:!0}),Object(g.jsx)(V.a.Label,{children:"End date"}),Object(g.jsx)(V.a.Control,{id:"date-input",type:"date",min:J.toISOString().split("T")[0],onChange:this.handleDates,required:!0})]}),Object(g.jsx)(Q.a,{type:"submit",style:{border:"none"},children:"Submit!"})]})}),Object(g.jsx)(w.a,{})]})]})}):Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("h2",{children:["You have no permission to visit this page, please"," ",Object(g.jsx)("a",{href:"/",children:"Log-in"})]})})}}]),a}(n.Component),$=(a(146),function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleAccept=function(e){W()({title:"Approve this order?",icon:"warning",buttons:!0}).then((function(t){t&&m.a.post("/update-order-status",{User:e,Status:"Accepted"}).then((function(e){W()({title:"Order approved!",text:e.data.message,icon:"success"})})).catch((function(e){alert(e)}))}))},n.handleAcceptAll=function(){m.a.post("/update-all-ordes-statuses",{Status:"Accepted"}).then((function(e){alert(e.data.message)})).catch((function(e){alert(e.data.message)}))},n.filterOrders=function(e){n.setState({searchValue:e.target.value})},n.sort=function(e){var t;t="Order date"==e||"Start"==e||"End"==e?n.state.orders.sort((function(t,a){return new Date(a[e])-new Date(t[e])})):n.state.orders.sort((function(t,a){return t[e]<a[e]?-1:t[e]>a[e]?1:0})),n.setState({orders:t})},n.state={orders:[],temp:[],tableTitles:void 0,searchValue:""},m.a.get("/orders").then((function(e){var t=Object.keys(e.data[0]).slice(1);t[4]="Order date",n.setState({tableTitles:t,orders:e.data})})).catch((function(e){alert(e.response)})),n.sort=n.sort.bind(Object(b.a)(n)),n.filterOrders=n.filterOrders.bind(Object(b.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return void 0===this.state.tableTitles?Object(g.jsx)("div",{className:"text-center",children:Object(g.jsx)("div",{className:"spinner-border",role:"status",children:Object(g.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"package",children:[Object(g.jsxs)("div",{className:"wrraper",children:[Object(g.jsx)("label",{className:"packageLabel",htmlFor:"location",children:"Search order:"}),Object(g.jsx)("input",{onChange:this.filterOrders,className:"packageInput",id:"location"})]}),Object(g.jsx)("br",{}),Object(g.jsx)(Q.a,{className:"accept-btn",onClick:this.handleAcceptAll,children:"Accpet All"})]}),Object(g.jsxs)(G.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"orders-table",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsxs)("th",{children:["#"," "]}),this.state.tableTitles.map((function(t,a){return Object(g.jsx)(n.Fragment,{children:Object(g.jsxs)("th",{children:[t," ",Object(g.jsx)("button",{className:"sort-by-btn",id:a,onClick:function(){return e.sort(t)},children:"v"})]})},a)}))]})}),Object(g.jsx)("tbody",{children:this.state.orders.filter((function(t){return t.OrderName.includes(e.state.searchValue)||t.Destination.includes(e.state.searchValue)})).map((function(t,a){return Object(g.jsx)(n.Fragment,{children:Object(g.jsxs)("tr",{onClick:function(){e.handleAccept(t.User)},children:[Object(g.jsx)("th",{children:++a}),Object(g.jsx)("td",{children:t.OrderName}),Object(g.jsx)("td",{children:t.User}),Object(g.jsx)("td",{children:t.Destination}),Object(g.jsx)("td",{children:t.Price}),Object(g.jsx)("td",{children:t.Deal}),Object(g.jsx)("td",{children:t.Status}),Object(g.jsx)("td",{children:t.OrderDate}),Object(g.jsx)("td",{children:t.VacationDate})]})},a)}))})]})]})}}]),a}(n.Component));var ee=function(){return!!sessionStorage.getItem("logged-in-username")},te=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("h2",{children:["You have no permission to visit this page, please"," ",Object(g.jsx)("a",{href:"/",children:"Log-in"})]})})}}]),a}(n.Component),ae=(a(147),a(163)),ne=a(164);a(148);f.b.add(S.e);var se=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){n.setState({SearchInput:e.target.value}),sessionStorage.setItem("search-value",e.target.value)},n.handleClick=function(){n.setState({SearchInput:""})},n.state={data:void 0,chosenPkg:void 0,SearchInput:""},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.get("/packages").then((function(t){e.setState({data:t.data})})).catch((function(e){alert(e.response.data.message)}))}},{key:"render",value:function(){return void 0===this.state.data?Object(g.jsx)("div",{className:"text-center",children:Object(g.jsx)("div",{className:"spinner-border",role:"status",children:Object(g.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("input",{type:"search",placeholder:"Search for packages...",className:"search-input",list:"cityname",onChange:this.handleSubmit,value:this.state.SearchInput}),Object(g.jsx)("datalist",{id:"cityname",children:this.state.data.map((function(e){return Object(g.jsx)("div",{children:Object(g.jsx)("option",{value:e.name,children:e.price})},e.description)}))}),Object(g.jsx)(h.b,{to:{pathname:"/packages/".concat(null)},children:Object(g.jsx)(B.a,{className:"glass",size:"lg",icon:"search",onClick:this.handleClick})})]})}}]),a}(s.a.Component);a(89);f.b.add(S.d);var ce=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={unreadMessages:0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.get("/read-massages").then((function(t){var a=t.data.filter((function(e){return e.DestEmail===sessionStorage.getItem("logged-in-email")}));e.setState({unreadMessages:a.length})})).catch((function(e){alert(e.response.data.message)}))}},{key:"render",value:function(){return 0===this.state.unreadMessages?Object(g.jsx)(B.a,{className:"envelope",style:{color:"black"},icon:"envelope","data-toggle":"tooltip",title:"Inbox"}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("span",{style:{color:"black"},children:[this.state.unreadMessages,"x"]}),Object(g.jsx)(B.a,{className:"envelope",style:{color:"red"},icon:"envelope","data-toggle":"tooltip",title:"".concat(this.state.unreadMessages," new messages")})]})}}]),a}(n.Component);f.b.add(v.a,S.h,S.c,S.d);var re=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).logoutClick=function(){sessionStorage.removeItem("logged-in-username"),sessionStorage.removeItem("logged-in-role"),sessionStorage.removeItem("logged-in-email"),window.location.replace("/")},n.logoutClick=n.logoutClick.bind(Object(b.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(ae.a,{variant:"dark",className:"navbar navbar-custom",children:[Object(g.jsx)(h.b,{to:"./homepage",children:Object(g.jsx)("img",{src:"data:image/png;base64,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",alt:"",className:"img_logo"})}),Object(g.jsxs)(ne.a,{className:"mr-auto",children:[Object(g.jsx)(h.b,{to:"/homepage",className:"navLink nav-link",children:"Home"}),Object(g.jsxs)("div",{className:"dropdown",children:[Object(g.jsx)(ne.a.Link,{className:"navLink",children:"Features"}),Object(g.jsx)("div",{className:"dropdown-content",style:{minWidth:"160px",right:"3%"},children:Object(g.jsxs)("div",{children:[Object(g.jsx)(h.b,{to:"/reccomendations",children:"Reccomendations"}),Object(g.jsx)(h.b,{to:{pathname:"packages/".concat(null)},children:"Packages"}),Object(g.jsx)(h.b,{to:"/attractions",children:"Attractions"})]})})]}),Object(g.jsx)(h.b,{className:"navLink nav-link contact",to:"/contact-us",children:"Contact Us!"}),Object(g.jsx)("div",{className:"searchBar",children:Object(g.jsx)(se,{})})]}),Object(g.jsxs)(V.a,{className:"navbar-nav text-right",children:[Object(g.jsx)("div",{className:"user-menu",children:Object(g.jsxs)("h5",{className:"h5-nav",children:[Object(g.jsx)(B.a,{className:"user-icon",icon:"user"})," ",Object(g.jsx)("span",{className:"welcome",children:"Welcome "}),Object(g.jsx)("span",{className:"user-name",children:sessionStorage.getItem("logged-in-username")})]})}),Object(g.jsx)(h.b,{to:"/inbox",children:Object(g.jsx)(ce,{})}),Object(g.jsxs)("div",{className:"dropdown",children:[Object(g.jsx)(B.a,{className:"cog",icon:"cog"}),Object(g.jsx)("div",{className:"dropdown-content-cog",style:{minWidth:"160px",right:"3%"},children:Object(g.jsxs)("div",{children:["Admin"==sessionStorage.getItem("logged-in-role")?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(h.b,{to:"/admin-ref",children:"Admin Settings"}),Object(g.jsx)(h.b,{to:"/customer-list",children:"Customer List"}),Object(g.jsx)(h.b,{to:"/orders-list",children:"Reservations"})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(h.b,{to:"/customer-info",children:"Personal Info"}),Object(g.jsx)(h.b,{to:"/customer-reservations",children:"Reservations"})]}),Object(g.jsx)(h.b,{to:"#",onClick:this.logoutClick,children:"Log Out"})]})})]})]})]})})}}]),a}(s.a.Component),ie=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n,s;for(Object(l.a)(this,a),(n=t.call(this,e)).handleQuanity=function(e){n.setState({quantity:e.target.value})},n.handleSubmit=function(e){e.preventDefault();var t=0;m.a.post("/add-order",{OrderName:n.state.orderName,User:sessionStorage.getItem("logged-in-username"),Destination:n.props.match.params.destination,Quantity:n.state.quantity,Price:n.state.price+"$",Deal:"Package",Status:"In Proc",OrderDate:new Date,VacationDate:n.state.VacationDate}).then((function(e){W()({title:"Thank you",text:e.data.message,icon:"success"})})).catch((function(e){W()(e.data.message)})),m.a.get("/one-package",{params:{Description:n.props.match.params.description}}).then((function(e){n.setState({data:e.data},(function(){(t=n.state.data[0].quantity)>0&&m.a.post("/decrement-quantity",{description:n.props.match.params.description,quantity:t-n.state.quantity}).then((function(e){})).catch((function(e){W()({text:e.data.message,icon:"error"})}))}))})).catch((function(e){W()({text:e.response.data.message,icon:"error"})}))},n.handleDateSelection=function(e){n.setState({VacationDate:e.target.value})},n.attrSelector=function(e){var t=n.state.price,a=e.target.value.split("price: ")[1];n.state.selectedAttractions.includes(a)?n.setState({price:t-parseInt(a)}):n.setState({selectedAttractions:[].concat(Object(Y.a)(n.state.selectedAttractions),[a]),price:t+parseInt(a)})},n.state={quantityArr:[],quantity:1,price:parseInt(n.props.match.params.price),package:void 0,orderName:"#"+n.props.match.params.destination[0]+String(Math.floor(1e5*Math.random())),Dates:n.props.match.params.dates.split(","),VacationDate:void 0,selectedAttractions:[]},s=0;s<n.props.match.params.quantity;s++)n.state.quantityArr.push(s+1);return n.attractions=[["Rent a car",100],["Upgrde to VIP room",250],["Transfers between airport and hotel",30],["Breakfeast",100],["Diner",100],["Spa services",200],["Tour in the city",50]],n}return Object(o.a)(a,[{key:"render",value:function(){return"Admin"==sessionStorage.getItem("logged-in-role")||"Travel Agent"==sessionStorage.getItem("logged-in-role")||"Customer"==sessionStorage.getItem("logged-in-role")?Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(C.a,{fluid:!0,children:[Object(g.jsx)(D.a,{children:Object(g.jsx)("h3",{className:"h-as-title",children:"Make an order"})}),Object(g.jsxs)(D.a,{children:[Object(g.jsx)(w.a,{sm:3}),Object(g.jsx)(w.a,{sm:7,children:Object(g.jsxs)(V.a,{className:"add-package-form",onSubmit:this.handleSubmit.bind(this),children:[Object(g.jsxs)(V.a.Group,{children:[Object(g.jsx)(V.a.Label,{children:"Order name"}),Object(g.jsx)(V.a.Control,{readOnly:!0,defaultValue:this.state.orderName})]}),Object(g.jsxs)(V.a.Group,{children:[Object(g.jsx)(V.a.Label,{children:"Package name"}),Object(g.jsx)(V.a.Control,{readOnly:!0,defaultValue:this.props.match.params.destination})]}),Object(g.jsxs)(V.a.Group,{children:[Object(g.jsx)(V.a.Label,{children:"Description"}),Object(g.jsx)(V.a.Control,{as:"textarea",readOnly:!0,defaultValue:this.props.match.params.description,rows:3})]}),Object(g.jsxs)(V.a.Group,{children:[Object(g.jsx)(V.a.Label,{children:"Quantity"}),Object(g.jsx)(V.a.Control,{as:"select",id:"dropdown-item-button",title:"Select Quantity",defaultValue:1,onClick:this.handleQuanity.bind(this),children:this.state.quantityArr.map((function(e,t){return Object(g.jsx)("option",{as:"label",children:e},t)}))})]}),Object(g.jsxs)(V.a.Group,{children:[Object(g.jsx)(V.a.Label,{children:"Select addittional features (ctrl+right click on the mouse to select multiple options)"}),Object(g.jsx)(V.a.Control,{as:"select",htmlSize:3,multiple:!0,onChange:this.attrSelector.bind(this),children:this.attractions.map((function(e,t){return Object(g.jsx)("option",{children:"".concat(e[0],", price: ").concat(e[1],"$")},e[0])}))})]}),Object(g.jsxs)(V.a.Group,{children:[Object(g.jsx)(V.a.Control,{as:"select",id:"dropdown-item-button",title:"Select date",onChange:this.handleDateSelection.bind(this),children:this.state.Dates.map((function(e,t){return Object(g.jsx)("option",{as:"label",children:e},t)}))}),Object(g.jsxs)(V.a.Group,{children:[Object(g.jsx)(V.a.Label,{children:"Price"}),Object(g.jsx)(V.a.Control,{readOnly:!0,value:this.state.price+"$"})]})]}),Object(g.jsx)(Q.a,{type:"submit",style:{border:"none"},children:"Submit!"})]})}),Object(g.jsx)(w.a,{sm:2})]})]})}):Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("h2",{children:["You have no permission to visit this page, please"," ",Object(g.jsx)("a",{href:"/",children:"Log-in"})]})})}}]),a}(n.Component),le=a(166),oe=new Date(Date.now()+864e6),de=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleURL=function(e){n.setState({url:e.target.value})},n.handleName=function(e){n.setState({name:e.target.value})},n.handleDescription=function(e){n.setState({description:e.target.value})},n.handleQuantity=function(e){n.setState({quantity:e.target.value})},n.handlePrice=function(e){n.setState({price:e.target.value+"$"})},n.handleFile=function(e){e.preventDefault();var t=URL.createObjectURL(document.querySelector("#image").files[0]);n.setState({url:t})},n.handleStartDate=function(e){n.start=e.target.value.split("T")[0]},n.handleDates=function(e){e.preventDefault();var t=e.target.value.split("T")[0],a=n.start+" to "+t;n.state.packageDates.includes(a)?alert("Dates already exist"):new Date(n.start)>new Date(t)?alert("You picked illegal dates!"):(n.setState({packageDates:[].concat(Object(Y.a)(n.state.packageDates),[a])}),alert("Successfully added vacation dates:".concat(a)))},n.handleURLLink=function(){if(""!==n.state.url)return Object(g.jsx)("a",{href:n.props.location.pathname.substring(n.props.location.pathname.indexOf("https"),n.props.location.pathname.length),target:"__blank",children:"Check picture url"})},n.handleSubmit=function(){var e=Object(N.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),""===n.state.url?n.setState({url:"insert new URL"}):n.setState({url:n.props.location.pathname.substring(n.props.location.pathname.indexOf("https"),n.props.location.pathname.length)}),m.a.create({baseURL:"/",headers:{"Cache-Control":"no-cache"},adapter:Object(le.a)(m.a.defaults.adapter)}).put("/update-package",Object(i.a)(Object(i.a)({},n.state),{},{updated:"yes"}),{retryTimes:2}).then((function(e){alert(e.data.message),n.props.history.push("/packages/".concat(null))})).catch((function(e){alert(e.message)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={name:n.props.match.params.destination,description:n.props.match.params.description,price:n.props.match.params.price,quantity:n.props.match.params.quantity,url:n.props.location.pathname.substring(n.props.location.pathname.indexOf("http"),n.props.location.pathname.length),data:void 0,packageDates:[]},n.start=void 0,n.handleURL=n.handleURL.bind(Object(b.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(b.a)(n)),n.handleURLLink=n.handleURLLink.bind(Object(b.a)(n)),n.handleFile=n.handleFile.bind(Object(b.a)(n)),n.handleName=n.handleName.bind(Object(b.a)(n)),n.handleDescription=n.handleDescription.bind(Object(b.a)(n)),n.handleQuantity=n.handleQuantity.bind(Object(b.a)(n)),n.handlePrice=n.handlePrice.bind(Object(b.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){if("Admin"==sessionStorage.getItem("logged-in-role")||"Travel Agent"==sessionStorage.getItem("logged-in-role"))return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h3",{className:"h-as-title",children:"Update Package"}),Object(g.jsxs)(V.a,{className:"add-package-form",onSubmit:this.handleSubmit,children:[Object(g.jsxs)(V.a.Group,{children:[Object(g.jsx)(V.a.Label,{children:"Package name"}),Object(g.jsx)(V.a.Control,{defaultValue:this.state.name,required:!0,onChange:this.handleName})]}),Object(g.jsxs)(V.a.Group,{children:[Object(g.jsx)(V.a.Label,{children:"Description"}),Object(g.jsx)(V.a.Control,{defaultValue:this.state.description,as:"textarea",rows:3,required:!0,onChange:this.handleDescription})]}),Object(g.jsxs)(V.a.Group,{children:[Object(g.jsx)(V.a.Label,{children:"Price"}),Object(g.jsx)(V.a.Control,{type:"number",required:!0,defaultValue:parseInt(this.state.price.substring(0,this.state.price.length-1)),onChange:this.handlePrice})]}),Object(g.jsxs)(V.a.Group,{children:[Object(g.jsx)(V.a.Label,{children:"Quantity"}),Object(g.jsx)(V.a.Control,{type:"number",required:!0,defaultValue:this.state.quantity,onChange:this.handleQuantity})]}),Object(g.jsxs)(V.a.Group,{children:[Object(g.jsxs)(V.a.Label,{children:["Start date"," ",Object(g.jsx)("span",{style:{color:"grey"},children:"( if not changed, the previous dates will remain )"})]}),Object(g.jsx)(V.a.Control,{id:"date-input",type:"date",min:oe.toISOString().split("T")[0],onChange:this.handleStartDate.bind(this)}),Object(g.jsx)(V.a.Label,{children:"End date"}),Object(g.jsx)(V.a.Control,{id:"date-input",type:"date",min:oe.toISOString().split("T")[0],onChange:this.handleDates})]}),Object(g.jsxs)(V.a.Group,{children:[Object(g.jsx)(V.a.Label,{children:"Image"}),Object(g.jsx)(V.a.Group,{children:Object(g.jsx)(V.a.File,{id:"image",accept:"image/*",onChange:this.handleFile})}),Object(g.jsx)(V.a.Control,{placeholder:"Set image url",onChange:this.handleURL,defaultValue:this.state.url}),this.handleURLLink()]}),Object(g.jsx)(Q.a,{type:"submit",style:{border:"none"},children:"Update"})]})]})}}]),a}(n.Component),je=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleSubmit=function(){m.a.get("/delete-package/".concat(n.props.match.params.name)).then((function(e){alert(e.data.message),n.props.history.push("/packages/".concat(null))})).catch((function(e){alert(e)}))},n.handleSubmit=n.handleSubmit.bind(Object(b.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(C.a,{className:"delete-conatiner",children:Object(g.jsxs)("h3",{className:"delete-package-title",children:["Please confirm delete package ",this.props.match.params.name," by click on the button:"]})}),Object(g.jsx)(Q.a,{className:"delete-package-button",onClick:this.handleSubmit,children:"Delete"})]})}}]),a}(n.Component),he=(a(149),function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleSubmit=function(){event.preventDefault(),m.a.post("/modify-role",{newRole:n.state.role,username:n.state.username},{headers:{"content-type":"application/json"}}).then((function(e){alert(e.data.message),n.props.history.push("/homepage")})).catch((function(e){alert(e.response.data.message)}))},n.handleSelectedOption=function(e){n.setState({role:e.target.value})},n.handleUsername=function(e){n.setState({username:e.target.value})},n.state={role:"Admin",username:""},n.handleSubmit=n.handleSubmit.bind(Object(b.a)(n)),n.handleSelectedOption=n.handleSelectedOption.bind(Object(b.a)(n)),n.handleUsername=n.handleUsername.bind(Object(b.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h3",{className:"h-as-title admin-title",children:"Admin"}),Object(g.jsx)(C.a,{className:"container-admin",children:Object(g.jsxs)(V.a,{className:"admin-form",onSubmit:this.handleSubmit,children:[Object(g.jsx)(V.a.Group,{controlId:"exampleForm.ControlInput1",children:Object(g.jsx)(V.a.Control,{placeholder:"Enter username here",required:!0,onChange:this.handleUsername})}),Object(g.jsxs)(V.a.Group,{controlId:"exampleForm.ControlSelect2",children:[Object(g.jsx)(V.a.Label,{children:"Select new role:"}),Object(g.jsxs)(V.a.Control,{as:"select",onChange:this.handleUsername,children:[Object(g.jsx)("option",{children:"Admin"}),Object(g.jsx)("option",{children:"Customer"}),Object(g.jsx)("option",{children:"Travel Agent"})]})]}),Object(g.jsx)("div",{className:"submit-btn",children:Object(g.jsx)(Q.a,{type:"submit",style:{border:"none"},children:"Submit!"})})]})})]})}}]),a}(n.Component)),ue=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).fetchAgain=function(){m.a.get("/customer-orders",{params:{User:sessionStorage.getItem("logged-in-username")}}).then((function(e){n.setState({data:e.data},(function(){}))})).catch((function(e){alert(e.response.data.message)}))},n.cancelOrder=function(e,t){m.a.get("/one-package-destination",{params:{name:e}}).then((function(a){n.setState({data:a.data});var s=n.state.data[0].quantity;s>=0&&m.a.post("/increment-quantity",{destination:e,quantity:s}).then((function(a){alert(a.data.message),m.a.post("/update-order-status-canceled",{Destination:e,User:t,Status:"Canceled"}).then((function(e){alert(e.data.message)})).catch((function(e){alert(e.data.message)}))})).catch((function(e){alert(e.data.message)}))})).catch((function(e){alert(e.response.data.message)}))},n.state={data:void 0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.get("/customer-orders",{params:{User:sessionStorage.getItem("logged-in-username")}}).then((function(t){e.setState({data:t.data})})).catch((function(e){alert(e.response.data.message)}))}},{key:"render",value:function(){var e=this;return void 0===this.state.data?Object(g.jsx)("div",{className:"text-center",children:Object(g.jsx)("div",{className:"spinner-border",role:"status",children:Object(g.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(g.jsxs)(C.a,{children:[function(){e.fetchAgain()},Object(g.jsx)(D.a,{children:Object(g.jsxs)(G.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"orders-table",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsxs)("th",{children:["#"," "]}),Object(g.jsxs)("th",{children:["User"," "]}),Object(g.jsxs)("th",{children:["Destination"," "]}),Object(g.jsxs)("th",{children:["Price"," "]}),Object(g.jsxs)("th",{children:["Deal"," "]}),Object(g.jsxs)("th",{children:["Status"," "]}),Object(g.jsxs)("th",{children:["Order Date"," "]}),Object(g.jsxs)("th",{children:["Start"," "]}),Object(g.jsxs)("th",{children:["End"," "]}),Object(g.jsxs)("th",{children:["Cancel"," "]})]})}),Object(g.jsx)("tbody",{children:this.state.data.map((function(t,a){return Object(g.jsx)(n.Fragment,{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:++a}),Object(g.jsx)("td",{children:t.User}),Object(g.jsx)("td",{children:t.Destination}),Object(g.jsx)("td",{children:t.Price}),Object(g.jsx)("td",{children:t.Deal}),Object(g.jsx)("td",{children:t.Status}),Object(g.jsx)("td",{children:t.OrderDate}),Object(g.jsx)("td",{children:t.Start}),Object(g.jsx)("td",{children:t.End}),Object(g.jsx)("td",{children:"Canceled"===t.Status?Object(g.jsx)(Q.a,{disabled:!0,onClick:function(){e.cancelOrder(t.Destination,t.User)},children:"Cancel"}):Object(g.jsx)(Q.a,{onClick:function(){e.cancelOrder(t.Destination,t.User)},children:"Cancel"})})]})},a)}))})]})})]})}}]),a}(n.Component),be=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={data:void 0},m.a.get("/package-by-rating").then((function(e){n.setState({data:e.data})})).catch((function(e){alert(e.response.data.message)})),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return void 0===this.state.data?Object(g.jsx)("div",{className:"text-center",children:Object(g.jsx)("div",{className:"spinner-border",role:"status",children:Object(g.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"d-flex flex-row flex-wrap my-flex-container",children:this.state.data.map((function(t){return t.quantity>0?Object(g.jsx)("div",{className:"p-2 my-flex-item",children:Object(g.jsx)(X,{name:t.name,description:t.description,url:t.url,quantity:t.quantity,price:t.price,updated:t.updated,rating:t.rating,history:e.props.history},t.description)},t.description):null}))})})}}]),a}(n.Component),pe=(a(90),function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleChange=function(e){"input"===e.target.localName?n.setState({Subject:e.target.value}):n.setState({Message:e.target.value})},n.handleSubmit=function(e){if(e.preventDefault(),""===n.state.Subject||""===n.state.Message)W()({title:"Error",text:"Fields can't be empty",icon:"error"});else{var t=Math.floor(Math.random()*n.state.Users.length);m.a.post("/contact-us",{SourceEmail:sessionStorage.getItem("logged-in-email"),DestEmail:n.state.Users[t].email,Subject:n.state.Subject,Message:n.state.Message,Read:!1}).then((function(e){m.a.post("/send-email-to",{email:n.state.Users[t].email,subject:n.state.Subject,text:n.state.Message}).then((function(){W()({title:"Thank you",text:e.data.successMessage,icon:"success"}),n.setState({Subject:"",Message:""})})).catch((function(){W()({title:"Reply to ".concat(n.state.sendTo),text:"Error: Can't send the reply",icon:"error"})}))})).catch((function(e){W()(e.data.message)}))}},n.state={Users:"",Subject:"",Message:""},m.a.get("/agents-admins").then((function(e){n.setState({Users:e.data})})).catch((function(e){alert(e.response.data.message)})),n}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h1",{className:"contact-header",align:"center",children:"Contact us!"}),Object(g.jsxs)(V.a,{onSubmit:this.handleSubmit,children:[Object(g.jsx)(V.a.Group,{children:Object(g.jsx)(V.a.Control,{className:"subject",type:"text",placeholder:"Subject *",onChange:this.handleChange,value:this.state.Subject,required:!0})}),Object(g.jsx)(V.a.Group,{children:Object(g.jsx)(V.a.Control,{as:"textarea",className:"message",placeholder:"Message *",rows:7,onChange:this.handleChange,value:this.state.Message,required:!0})}),Object(g.jsx)(Q.a,{variant:"primary",className:"send",type:"submit",children:"Send"})]})]})}}]),a}(n.Component)),me=a(33),Oe=a(161);f.b.add(S.g);var xe=function(){var e=Object(n.useState)(void 0),t=Object(me.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(!1),r=Object(me.a)(c,2),i=r[0],l=r[1],o=Object(n.useState)(""),d=Object(me.a)(o,2),j=d[0],u=d[1],b=Object(n.useState)(""),p=Object(me.a)(b,2),O=p[0],x=p[1],A=Object(n.useState)(""),f=Object(me.a)(A,2),v=f[0],S=f[1];Object(n.useEffect)((function(){m.a.get("/messages").then((function(e){var t=e.data.filter((function(e){return e.DestEmail===sessionStorage.getItem("logged-in-email")}));s(t.reverse())})).catch((function(e){alert(e.response.data.message)}))}),[]);var y=function(){l(!1),window.location.reload(!1)},k=function(e){W()({title:"Are you sure?",text:"Once deleted, you will not be able to recover this message!",icon:"warning",buttons:!0}).then((function(t){t&&m.a.get("/delete-message/".concat(e)).then((function(e){W()({title:e.data.message,icon:"success"}).then((function(e){e&&window.location.reload(!1)}))})).catch((function(e){W()({title:"Error",text:e,icon:"error"}),alert(e)}))}))},N=function(e,t,a){m.a.post("/set-read",{Subject:e,Message:a}).then((function(){u(e),x(t),S(a),l(!0)})).catch((function(e){alert(e)}))};return void 0===a?Object(g.jsx)("div",{className:"text-center",children:Object(g.jsx)("div",{className:"spinner-border",role:"status",children:Object(g.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h1",{align:"center",children:"Inbox"}),Object(g.jsxs)(G.a,{striped:!0,bordered:!0,hover:!0,children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"#"}),Object(g.jsx)("th",{children:"Subject"}),Object(g.jsx)("th",{children:"From"}),Object(g.jsx)("th",{children:"Delete"})]})}),Object(g.jsx)("tbody",{children:a.map((function(e,t){return Object(g.jsx)("tr",{children:0==e.Read?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("td",{onClick:function(){N(e.Subject,e.SourceEmail,e.Message)},children:Object(g.jsx)("b",{children:t})}),Object(g.jsx)("td",{onClick:function(){N(e.Subject,e.SourceEmail,e.Message)},children:Object(g.jsx)("b",{children:e.Subject})}),Object(g.jsx)("td",{onClick:function(){N(e.Subject,e.SourceEmail,e.Message)},children:Object(g.jsx)("b",{children:e.SourceEmail})}),Object(g.jsx)("td",{onClick:function(){k(e._id)},children:Object(g.jsx)("b",{children:Object(g.jsx)(B.a,{className:"trash",icon:"trash-alt"})})})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("td",{onClick:function(){N(e.Subject,e.SourceEmail,e.Message)},children:t}),Object(g.jsx)("td",{onClick:function(){N(e.Subject,e.SourceEmail,e.Message)},children:e.Subject}),Object(g.jsx)("td",{onClick:function(){N(e.Subject,e.SourceEmail,e.Message)},children:e.SourceEmail}),Object(g.jsx)("td",{onClick:function(){k(e._id)},children:Object(g.jsx)(B.a,{className:"trash",icon:"trash-alt"})})]})},t)}))})]}),Object(g.jsxs)(Oe.a,{show:i,onHide:y,children:[Object(g.jsx)(Oe.a.Header,{closeButton:!0,children:Object(g.jsx)(Oe.a.Title,{children:j})}),Object(g.jsx)(Oe.a.Body,{className:"modal-dialog",children:Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{children:"From: "})," ",O]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{children:"Message: "}),Object(g.jsx)("label",{children:v})]})]})}),Object(g.jsxs)(Oe.a.Footer,{children:[Object(g.jsx)(h.b,{to:"/reply/".concat(O,"/").concat(j),children:Object(g.jsx)(Q.a,{variant:"secondary",onClick:function(){},children:"Reply"})}),Object(g.jsx)(Q.a,{variant:"primary",onClick:y,children:"Close"})]})]})]})},ge=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({Message:e.target.value})},n.handleSubmit=function(e){e.preventDefault(),""===n.state.Subject||""===n.state.Message?W()({title:"Error",text:"Fields can't be empty",icon:"error"}):m.a.post("/contact-us",{SourceEmail:sessionStorage.getItem("logged-in-email"),DestEmail:n.state.sendTo,Subject:"re: ".concat(n.state.Subject),Message:n.state.Message,Read:!1}).then((function(){m.a.post("/send-email-to",{email:n.state.sendTo,subject:"re: ".concat(n.state.Subject),text:n.state.Message}).then((function(){W()({title:"Reply to ".concat(n.state.sendTo),text:"Reply sent successfully!",icon:"success"}).then((function(e){e&&window.location.reload(!1)})),n.setState({Message:""})})).catch((function(){W()({title:"Reply to ".concat(n.state.sendTo),text:"Error: Can't send the reply",icon:"error"})}))})).catch((function(e){W()(e.data.message)}))},n.state={Subject:n.props.match.params.Subject,Message:"",sendTo:n.props.match.params.SourceEmail},n}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("h1",{className:"contact-header",align:"center",children:["Reply to: ",this.state.sendTo]}),Object(g.jsxs)(V.a,{onSubmit:this.handleSubmit,children:[Object(g.jsx)(V.a.Group,{children:Object(g.jsx)(V.a.Control,{className:"subject",type:"text",placeholder:"Subject *",value:"re: ".concat(this.state.Subject),readOnly:!0})}),Object(g.jsx)(V.a.Group,{children:Object(g.jsx)(V.a.Control,{as:"textarea",className:"message",placeholder:"Message *",rows:7,onChange:this.handleChange,value:this.state.Message,required:!0})}),Object(g.jsx)(Q.a,{className:"send",type:"submit",children:"Send"})]})]})}}]),a}(n.Component);f.b.add(v.a,S.a,S.b);var Ae=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"bg",children:Object(g.jsx)(h.a,{children:Object(g.jsxs)(u.d,{children:[Object(g.jsx)(u.b,{exact:!0,path:"/",render:function(){return Object(g.jsx)(u.a,{to:"/login"})}}),Object(g.jsx)(u.b,{path:"/login",component:A}),Object(g.jsx)(u.b,{path:"/signUp",component:T}),Object(g.jsx)(u.b,{path:"/not-auth",component:te}),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(re,{history:this.props.history}),Object(g.jsx)(u.b,{path:"/homepage",render:function(){return ee()?Object(g.jsx)(F,{}):Object(g.jsx)(u.a,{to:"/not-auth"})}}),Object(g.jsx)(u.b,{path:"/customer-reservations",render:function(){return ee()?Object(g.jsx)(ue,{}):Object(g.jsx)(u.a,{to:"/not-auth"})}}),Object(g.jsx)(u.b,{path:"/packages/:search",render:function(e){return ee()?Object(g.jsx)(H,Object(i.a)({},e)):Object(g.jsx)(u.a,{to:"/not-auth"})}}),Object(g.jsx)(u.b,{path:"/add-package",render:function(e){return ee()?Object(g.jsx)(_,Object(i.a)({},e)):Object(g.jsx)(u.a,{to:"/not-auth"})}}),Object(g.jsx)(u.b,{path:"/reccomendations",render:function(e){return ee()?Object(g.jsx)(be,Object(i.a)({},e)):Object(g.jsx)(u.a,{to:"/not-auth"})}}),Object(g.jsx)(u.b,{path:"/customer-list",render:function(){return ee()?Object(g.jsx)(E,{}):Object(g.jsx)(u.a,{to:"/not-auth"})}}),Object(g.jsx)(u.b,{path:"/update-package/:destination/:description/:price/:quantity/:dates/:url",render:function(e){return ee()?Object(g.jsx)(de,Object(i.a)({},e)):Object(g.jsx)(u.a,{to:"/not-auth"})}}),Object(g.jsx)(u.b,{path:"/delete-package/:name",render:function(e){return ee()?Object(g.jsx)(je,Object(i.a)({},e)):Object(g.jsx)(u.a,{to:"/not-auth"})}}),Object(g.jsx)(u.b,{path:"/orders-list",render:function(){return ee()?Object(g.jsx)($,{}):Object(g.jsx)(u.a,{to:"/not-auth"})}}),Object(g.jsx)(u.b,{path:"/admin-ref",render:function(){return ee()?Object(g.jsx)(he,{}):Object(g.jsx)(u.a,{to:"/not-auth"})}}),Object(g.jsx)(u.b,{path:"/make-order/:destination/:price/:description/:quantity/:dates",render:function(e){return ee()?Object(g.jsx)(ie,Object(i.a)({},e)):Object(g.jsx)(u.a,{to:"/not-auth"})}}),Object(g.jsx)(u.b,{path:"/contact-us/",render:function(){return ee()?Object(g.jsx)(pe,{}):Object(g.jsx)(u.a,{to:"/not-auth"})}}),Object(g.jsx)(u.b,{path:"/reply/:SourceEmail/:Subject",render:function(e){return ee()?Object(g.jsx)(ge,Object(i.a)({},e)):Object(g.jsx)(u.a,{to:"/not-auth"})}}),Object(g.jsx)(u.b,{path:"/inbox",render:function(){return ee()?Object(g.jsx)(xe,{}):Object(g.jsx)(u.a,{to:"/not-auth"})}})]})]})})})})}}]),a}(s.a.Component);r.a.render(Object(g.jsx)(Ae,{}),document.getElementById("root"))},70:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){}},[[150,1,2]]]);
//# sourceMappingURL=main.c975430d.chunk.js.map